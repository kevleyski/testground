[metadata]
  name = "find-provs"
  author = "adin"

[global]
  plan = "dht"
  case = "find-providers"
  total_instances = 1000
  builder = "docker:go"
  runner = "cluster:k8s"
  [global.build_config]
    push_registry = true
    registry_type = "aws"

[[groups]]
  id = "balsam-undialable-provider"
  [groups.instances]
    count = 5
    percentage = 0.0
  [groups.build]
    Selectors = ["balsam"]
  [groups.run]
    artifact = "909427826938.dkr.ecr.us-east-1.amazonaws.com/testground-us-east-1-dht:f3f4efe8eb58"
    [groups.run.test_params]
      bs_strategy = "3"
      bucket_size = "10"
      record_count = "1"
      timeout_secs = "600"
      undialable = "true"

[[groups]]
  id = "balsam-undialable-searcher"
  [groups.instances]
    count = 5
    percentage = 0.0
  [groups.build]
    Selectors = ["balsam"]
  [groups.run]
    artifact = "909427826938.dkr.ecr.us-east-1.amazonaws.com/testground-us-east-1-dht:bfe9e64d0e67"
    [groups.run.test_params]
      bs_strategy = "3"
      bucket_size = "10"
      search_records = "true"
      timeout_secs = "600"
      undialable = "true"

[[groups]]
  id = "balsam-dialable-passive"
  [groups.instances]
    count = 780
    percentage = 0.0
  [groups.build]
    Selectors = ["balsam"]
  [groups.run]
    artifact = "909427826938.dkr.ecr.us-east-1.amazonaws.com/testground-us-east-1-dht:240f03d6018e"
    [groups.run.test_params]
      bs_strategy = "3"
      bucket_size = "10"
      timeout_secs = "600"
      undialable = "false"

[[groups]]
  id = "balsam-dialable-provider"
  [groups.instances]
    count = 5
    percentage = 0.0
  [groups.build]
    Selectors = ["balsam"]
  [groups.run]
    artifact = "909427826938.dkr.ecr.us-east-1.amazonaws.com/testground-us-east-1-dht:193a63e43f7e"
    [groups.run.test_params]
      bs_strategy = "3"
      bucket_size = "10"
      record_count = "1"
      timeout_secs = "600"
      undialable = "false"

[[groups]]
  id = "balsam-dialable-searcher"
  [groups.instances]
    count = 5
    percentage = 0.0
  [groups.build]
    Selectors = ["balsam"]
  [groups.run]
    artifact = "909427826938.dkr.ecr.us-east-1.amazonaws.com/testground-us-east-1-dht:12c1af742b33"
    [groups.run.test_params]
      bs_strategy = "3"
      bucket_size = "10"
      search_records = "true"
      timeout_secs = "600"
      undialable = "false"

[[groups]]
  id = "cypress-passive"
  [groups.instances]
    count = 185
    percentage = 0.0
  [groups.build]
    Selectors = ["cypress"]

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p-kad-dht"
      version = "v0.5.2-0.20200320214803-97539e5e8e14"

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p-autonat"
      version = "901286ad641d8eb313fa9766c0c2a2050afbe12f"

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p"
      version = "685ba00833c3436be748c60962331582b15192f7"
  [groups.run]
    artifact = "909427826938.dkr.ecr.us-east-1.amazonaws.com/testground-us-east-1-dht:d670e93333c7"
    [groups.run.test_params]
      bs_strategy = "3"
      bucket_size = "10"
      search_records = "true"
      timeout_secs = "600"

[[groups]]
  id = "cypress-provider"
  [groups.instances]
    count = 5
    percentage = 0.0
  [groups.build]
    Selectors = ["cypress"]

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p-kad-dht"
      version = "v0.5.2-0.20200320214803-97539e5e8e14"

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p-autonat"
      version = "901286ad641d8eb313fa9766c0c2a2050afbe12f "

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p"
      version = "685ba00833c3436be748c60962331582b15192f7"
  [groups.run]
    artifact = "909427826938.dkr.ecr.us-east-1.amazonaws.com/testground-us-east-1-dht:3017b9b62b07"
    [groups.run.test_params]
      bs_strategy = "3"
      bucket_size = "10"
      record_count = "1"
      timeout_secs = "600"

[[groups]]
  id = "cypress-searcher"
  [groups.instances]
    count = 5
    percentage = 0.0
  [groups.build]
    Selectors = ["cypress"]

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p-kad-dht"
      version = "v0.5.2-0.20200320214803-97539e5e8e14"

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p-autonat"
      version = "901286ad641d8eb313fa9766c0c2a2050afbe12f "

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p"
      version = "685ba00833c3436be748c60962331582b15192f7"
  [groups.run]
    artifact = "909427826938.dkr.ecr.us-east-1.amazonaws.com/testground-us-east-1-dht:16f6fb99c5ac"
    [groups.run.test_params]
      bs_strategy = "3"
      bucket_size = "10"
      search_records = "true"
      timeout_secs = "600"

[[groups]]
  id = "cypress-bs"
  [groups.instances]
    count = 5
    percentage = 0.0
  [groups.build]
    Selectors = ["cypress"]

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p-kad-dht"
      version = "v0.5.2-0.20200320214803-97539e5e8e14"

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p-autonat"
      version = "901286ad641d8eb313fa9766c0c2a2050afbe12f "

    [[groups.build.dependencies]]
      module = "github.com/libp2p/go-libp2p"
      version = "685ba00833c3436be748c60962331582b15192f7"
  [groups.run]
    artifact = "909427826938.dkr.ecr.us-east-1.amazonaws.com/testground-us-east-1-dht:44716600476b"
    [groups.run.test_params]
      bootstrapper = "true"
      bs_strategy = "1"
      bucket_size = "10"
      timeout_secs = "600"

